<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
    <title>SupPictures Home</title>

</h:head>
<h:body styleClass="position-relative">
<ui:composition>
    <h:outputStylesheet library = "css" name="main.css"/>
    <h:outputStylesheet library="scss" name="_variables.scss"/>
    <h:outputStylesheet name="css/bootstrap.css"/>
    <h:outputStylesheet value="https://use.fontawesome.com/244a9c9e4a.css"/>
    <link href="https://fonts.googleapis.com/css?family=Varela+Round&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Comfortaa&amp;display=swap&amp;subset=cyrillic-ext" rel="stylesheet"/>

    <script src="https://use.fontawesome.com/244a9c9e4a.js" type="application/javascript"></script>

    <div class="alert alert-danger w-25 alert-dismissible fade show position-absolute alert-box mb-0" role="alert">
        <span class="m-0">Error: <h:messages styleClass="text-capitalize m-0" id="errorMessages" globalOnly="true"/></span>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <!--Navbar-->
    <nav class="image-shadow navbar navbar-expand-lg navbar-light bg-light position-fixed w-100 navbar-z-index">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <h:form styleClass="w-25 w-25 d-flex align-items-center">
            <h:link outcome="/index.xhtml"><img class="index-logo" src="resources/images/icon.png" alt="SupPictures logo"/></h:link>
            <h:link class="navbar-brand" outcome="/index.xhtml">SupPictures</h:link>
        </h:form>
        <div class="collapse navbar-collapse w-100" id="navbarTogglerDemo03">

            <form class="form-inline w-100 d-flex align-contents-center justify-content-center">
                <input class="form-control w-75 mr-1 h-50-px" type="search" placeholder="Search for free photos and pictures" aria-label="Search"/>
                <button class="btn btn-outline-success my-2 my-sm-0 w-50-px  h-48-px " type="submit"><i class="fa fa-search"></i></button>
            </form>
            <h:form styleClass=" w-25 d-flex align-items-center justify-content-end">
                <ul class="navbar-nav">
                    <li class="nav-item p-2">
                        <h:outputText rendered="#{userManager.userLoggedIn}" value="Hello #{userManager.currentUser.firstName}"/>
                    </li>
                    <li class="nav-item">
                        <h:link class="nav-link" outcome="/signIn.xhtml" rendered="#{!userManager.userLoggedIn}" value="Log in" />
                    </li>
                    <li class="nav-item">
                        <h:link class="nav-link" outcome="/signUp.xhtml" rendered="#{!userManager.userLoggedIn}" value ="Sign Up"/>
                    </li>
                    <li class="nav-item">
                        <h:link class="nav-link" title="Profile" rendered="#{userManager.userLoggedIn}" outcome="/userProfile.xhtml"><img src="resources/images/user.png" alt="" style="width: 20px;"/></h:link>
                    </li>
                    <li class="nav-item">
                        <h:link class="nav-link" title="Admin" rendered="#{userManager.currentUser.administrator}" outcome="/manageUsers.xhtml"><img src="resources/images/user.png" alt="" style="width: 20px;"/></h:link>
                    </li>
                    <li class="nav-item">
                        <h:commandLink class="nav-link" action="#{userManager.logout}" rendered="#{userManager.userLoggedIn}" value ="Log Out"/>
                    </li>

                </ul>
             </h:form>
        </div>
    </nav>
    <!--Navbar End-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" type="application/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" type="application/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" type="application/javascript"></script>
    <script type="application/javascript">
        $(document).ready(function() {
            var alertTextLength = $('.alert-box #errorMessages li').text().length;
            $('.alert').alert();
            $('.alert-box').hide();
            console.log(alertTextLength);
            if (alertTextLength > 0) {
                $('.alert-box').show();
                setTimeout('$(\'.alert-box\').hide()',15000);

            }
        });
        $(function () {


        })


    </script>
</ui:composition>

</h:body>
</html>